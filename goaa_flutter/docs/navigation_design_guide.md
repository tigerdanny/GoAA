# GOAA 導航系統設計指南

## 設計理念

### 整體架構
GOAA 採用 **側邊抽屜式導航** 作為主要導航系統，符合 Material Design 規範並體現品牌特色。

### 設計原則
1. **直觀性**: 清晰的功能分類和視覺層次
2. **一致性**: 統一的視覺風格和交互模式
3. **品牌化**: 融入 GOAA 品牌元素和色彩系統
4. **可擴展性**: 模組化設計便於功能擴展

## 導航結構

### 主要功能模組

```
🏠 首頁 (HomeScreen)
├── 📱 個人資訊模組
│   ├── 👥 好友資訊 (FriendsScreen) - 管理好友和聯繫人
│   └── 👤 個人檔案 (ProfileScreen) - 編輯個人資料
│
├── 💰 帳務設定模組  
│   ├── ⚙️  帳務設定 (AccountSettingsScreen) - 貨幣、備份、匯出
│   └── 📊 統計報表 (AnalyticsScreen) - 查看支出分析
│
├── 🔧 系統設定模組
│   ├── ⚙️  設定 (SettingsScreen) - 介面、語言、主題
│   └── 🔔 提醒設定 (ReminderSettingsScreen) - 通知和提醒管理
│
└── ℹ️  說明與支援模組
    ├── ❓ 說明 (HelpScreen) - 使用指南和常見問題
    └── ℹ️  關於 (AboutScreen) - 版本資訊和開發者
```

### 實現狀態

#### ✅ 已實現
- **HomeScreen**: 完整的首頁功能
- **SettingsScreen**: 完整的設置功能
- **HomeDrawer**: 完整的導航選單

#### 🚧 開發中
- **FriendsScreen**: 好友管理功能
- **AccountSettingsScreen**: 帳務設定功能
- **AboutScreen**: 關於頁面

#### 📋 計劃中
- **ProfileScreen**: 個人檔案編輯
- **AnalyticsScreen**: 統計報表
- **ReminderSettingsScreen**: 提醒設定
- **HelpScreen**: 說明頁面

## 視覺設計

### 選單頭部設計

#### 1. 品牌展示區
- **用戶頭像**: 使用 GOAA Logo，強化品牌識別
- **漸變背景**: 採用品牌色彩漸變 (primaryGradient)
- **圓角設計**: 底部圓角 24px，現代化視覺效果

#### 2. 用戶資訊區
- **用戶名稱**: 大字體顯示，白色文字突出重要性
- **用戶代碼**: 圓角背景，便於識別和分享
- **快速操作**: QR碼生成和掃描，半透明白色容器

#### 3. 每日金句區
- **內容展示**: 斜體文字，引用格式
- **作者標註**: 小字體署名
- **響應式顯示**: 內容過長時自動截斷

### 選單項目設計

#### 1. 區段分類
- **標題**: 小字體標籤，灰色文字
- **容器**: 圓角卡片，邊框分隔
- **間距**: 16px 垂直間距保持視覺節奏

#### 2. 項目樣式
- **圖標設計**: 40x40px 圓角容器，品牌色背景
- **文字層次**: 標題 + 副標題的雙層文字結構
- **交互反饋**: InkWell 漣漪效果 + 觸覺反饋

#### 3. 狀態指示
- **箭頭圖標**: 右側 chevron_right 指示可點擊
- **顏色系統**: 統一的色彩層次（primary, secondary, tertiary）

## 技術實現

### 文件結構
```
lib/features/home/widgets/
└── home_drawer.dart           # 主導航選單
    ├── _buildHeader()         # 頭部區域
    ├── _buildUserCodeRow()    # 用戶代碼行
    ├── _buildDailyQuote()     # 每日金句
    ├── _buildMenuSection()    # 選單區段
    ├── _buildMenuItem()       # 選單項目
    └── 導航方法群組
```

### 核心組件

#### 1. HomeDrawer 主類
- **響應式設計**: SafeArea + Column 布局
- **滾動支持**: ListView 支持長列表
- **動畫效果**: 自然的開關動畫

#### 2. 頭部組件 (_buildHeader)
- **漸變背景**: AppColors.primaryGradient
- **用戶頭像**: 圓形裁切 + 陰影效果
- **每日金句**: 條件渲染，空值安全處理

#### 3. 選單項目 (_buildMenuItem)
- **參數化設計**: 可配置圖標、標題、副標題
- **觸覺反饋**: HapticFeedback.lightImpact()
- **導航處理**: 自動關閉選單 + 頁面跳轉

### 導航方法

#### 1. 實現的導航
```dart
void _navigateToSettings(BuildContext context) {
  Navigator.pop(context);  // 關閉選單
  Navigator.push(context, MaterialPageRoute(
    builder: (context) => const SettingsScreen()
  ));
}
```

#### 2. 預留的導航
```dart
void _navigateToFriends(BuildContext context) {
  Navigator.pop(context);
  // TODO: 實現好友頁面
  _showComingSoon(context);
}
```

## 交互設計

### 用戶操作流程

#### 1. 選單開啟
- **觸發方式**: 首頁左上角選單圖標點擊
- **動畫效果**: 從左側滑入
- **遮罩效果**: 半透明黑色背景

#### 2. 項目選擇
- **視覺反饋**: InkWell 漣漪效果
- **觸覺反饋**: 輕度震動 (lightImpact)
- **導航行為**: 選單關閉 + 頁面跳轉

#### 3. 快速操作
- **QR碼功能**: 直接觸發，無需跳轉頁面
- **即時反饋**: 觸覺反饋 + 選單關閉

### 錯誤處理

#### 1. 功能開發中
- **友善提示**: "功能開發中..." SnackBar
- **品牌色彩**: 使用 AppColors.primary 背景
- **多語言支持**: 本地化文字處理

#### 2. 導航錯誤
- **安全導航**: 先關閉選單再執行跳轉
- **錯誤捕獲**: try-catch 包裝導航操作

## 國際化支持

### 實現的本地化
- ✅ **基礎文字**: 個人資訊、設定、關於等
- ✅ **狀態信息**: 功能開發中提示
- ✅ **用戶顯示**: 默認用戶名稱

### 預留的本地化
- 📋 **詳細描述**: 副標題和說明文字
- 📋 **動態內容**: 問候語和金句
- 📋 **錯誤信息**: 詳細的錯誤提示

## 可訪問性設計

### 觸控目標
- **最小尺寸**: 44dp x 44dp 符合無障礙標準
- **足夠間距**: 16px 內外邊距避免誤觸
- **清晰邊界**: 明確的視覺邊界定義

### 視覺對比
- **高對比度**: 白色文字在深色背景上
- **層次分明**: 三級文字顏色系統
- **品牌一致**: 統一的色彩應用規範

### 語義化標籤
- **按鈕識別**: 明確的點擊行為標識
- **內容描述**: 完整的功能說明文字
- **狀態反饋**: 清晰的交互狀態提示

## 性能優化

### 渲染優化
- **條件渲染**: 空值內容不渲染 (SizedBox.shrink)
- **延遲構建**: ListView 延遲渲染選單項目
- **圖片緩存**: 頭像圖片採用 Asset 預載

### 內存管理
- **靜態常量**: 常用的邊距和尺寸值
- **組件複用**: 統一的 _buildMenuItem 組件
- **及時釋放**: 導航完成後及時釋放引用

## 測試策略

### 單元測試
- **組件渲染**: 各個 build 方法的輸出驗證
- **導航邏輯**: 導航方法的行為測試
- **狀態管理**: 選單開關狀態測試

### 集成測試
- **導航流程**: 完整的用戶導航路徑
- **跨頁面交互**: 頁面間的數據傳遞
- **錯誤場景**: 異常情況的處理測試

### 用戶測試
- **可用性測試**: 真實用戶的操作體驗
- **無障礙測試**: 輔助技術的兼容性
- **性能測試**: 不同設備上的表現

## 未來擴展

### 短期計劃 (1-2 週)
1. **完成基礎頁面**: Friends, AccountSettings, About
2. **優化動畫效果**: 更流暢的過渡動畫
3. **完善本地化**: 添加缺失的翻譯文字

### 中期計劃 (1-2 月)
1. **高級功能頁面**: Profile, Analytics, Help
2. **深度鏈接支持**: URL 路由和參數傳遞
3. **主題系統集成**: 深色模式適配

### 長期計劃 (3-6 月)
1. **手勢導航**: 滑動操作和快捷方式
2. **個性化設置**: 自定義選單項目順序
3. **智能推薦**: 基於使用習慣的功能推薦

## 總結

GOAA 導航系統以**用戶體驗為中心**，結合**品牌特色**和**技術最佳實踐**，提供了一個完整、可擴展的導航解決方案。

### 核心優勢
1. **清晰的資訊架構**: 邏輯性的功能分組
2. **優雅的視覺設計**: 現代化的 UI 風格
3. **穩健的技術實現**: 可維護的代碼結構
4. **完善的擴展計劃**: 明確的開發路線圖

通過這個設計指南，團隊可以：
- 快速了解導航系統的設計理念
- 準確實現新功能的集成
- 保持一致的設計和技術標準
- 在系統重構時快速恢復功能

這正體現了您提出的**功能指南化管理**的價值 - 當程式有重大破壞時，能夠依據指南快速重建並保持品質一致性。 
